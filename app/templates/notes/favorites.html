{% extends "dashboard_base.html" %}

{% block title %}Favorites{% endblock %}

{% block extra_css %}
<style>
    .grid-auto {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="page-header">
    <h1>
        <span data-feather="star" style="width: 28px; height: 28px; color: var(--warning);"></span>
        Favorites
    </h1>
</div>

{% if notes %}
<div class="grid-auto">
    {% for note in notes %}
    <a href="{{ url_for('notes.view_note', note_id=note.id) }}" class="note-card">
        <div class="d-flex justify-content-between align-items-start mb-2">
            <span class="badge" style="background-color: {{ note.class_color }}; color: #fff;">
                {{ note.class_code or note.class_name }}
            </span>
            <span data-feather="bookmark" style="width: 14px; height: 14px; color: var(--warning);"></span>
        </div>
        <div class="note-card-title">{{ note.title or 'Untitled' }}</div>
        <div class="note-card-preview">
            {{ note.content|striptags|truncate(100) if note.content else 'Empty note' }}
        </div>
        <div class="note-card-meta">
            {{ (note.updated_at|string)[:10] if note.updated_at else '' }}
        </div>
    </a>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <span data-feather="star"></span>
    <h5>No favorites yet</h5>
    <p>Pin notes to add them to your favorites for quick access.</p>
    <a href="{{ url_for('notes.list_notes') }}" class="btn btn-primary">
        <span data-feather="file-text"></span>
        View All Notes
    </a>
</div>
{% endif %}
{% endblock %}

{% block scripts %}
<script>
    feather.replace();
</script>
{% endblock %}
